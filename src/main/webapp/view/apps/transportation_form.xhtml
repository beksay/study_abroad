<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layouts/base.xhtml">
	<ui:define name="content">
	 <div class="form-app">
		<h2>#{msgs.transportationForm}</h2>
		<br />
		<br />
		<h:form id="add-card-form" prependId="false">
			<p:growl id="growl" showDetail="true" sticky="true" />
			<h:panelGrid styleClass="form-table" columns="3">

				<h:panelGroup>
	                <h:outputText value="#{msgs.departurePoint}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>
				<p:autoComplete id="departurePoint" dropdown="true" var="type"
					itemValue="#{type}" itemLabel="#{type.name}" size="55"
					value="#{transportationController.module.departurePoint}"
					converter="departureConverter" scrollHeight="300"
					completeMethod="#{transportationController.getCountryList}"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
					<p:ajax event="itemSelect" process="@this"
						update="addressDeptId addressDeptStringId" />
				</p:autoComplete>
				<p:message for="departurePoint" />

				<h:panelGroup></h:panelGroup>
				<h:panelGroup id="addressDeptStringId">
					<h:panelGroup rendered="#{transportationController.module.departurePoint.id ne 3929}">
		                <h:outputText value="#{msgs.address}"/>
		                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
	                </h:panelGroup>	
					<h:inputText value="#{transportationController.module.addressDept}"
						required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
						id="addressDept" maxlength="150" style="width:455px;"
						rendered="#{transportationController.module.departurePoint.id ne 3929}" />
					<p:message for="addressDept"
						rendered="#{transportationController.module.departurePoint.id ne 3929}" />
				</h:panelGroup>

				<h:panelGroup id="addressDeptId">
					<h:panelGroup rendered="#{transportationController.module.departurePoint.id eq 3929}">
		                <h:outputText value="#{msgs.senderAddress}"/>
		                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
	                </h:panelGroup>	
					<p:autoComplete id="addressDeparture" dropdown="true" var="type"
						rendered="#{transportationController.module.departurePoint.id eq 3929}"
						itemValue="#{type}" itemLabel="#{type.name}" size="55"
						value="#{transportationController.module.addressDeparture}"
						converter="addressRegisterConverter" scrollHeight="300"
						completeMethod="#{transportationController.getAddressList}"
						required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
					</p:autoComplete>
					<h:message for="addressDeparture" display="icon" style="color:red;"
						rendered="#{transportationController.module.departurePoint.id eq 3929}" />
				</h:panelGroup>

				<h:panelGroup>
	                <h:outputText value="#{msgs.destinationPoint}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>	
				<p:autoComplete id="destinationPoint" dropdown="true" var="type"
					itemValue="#{type}" itemLabel="#{type.name}" size="55"
					value="#{transportationController.module.destinationPoint}"
					converter="destinationConverter" scrollHeight="300"
					completeMethod="#{transportationController.getCountryList}"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
					<p:ajax event="itemSelect" process="@this"
						update="addressId addressDestStringId" />
				</p:autoComplete>
				<p:message for="destinationPoint" />

				<h:panelGroup></h:panelGroup>
				<h:panelGroup id="addressDestStringId">
					<h:panelGroup rendered="#{transportationController.module.destinationPoint.id ne 3929}">
		                <h:outputText value="#{msgs.address}"/>
		                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
	                </h:panelGroup>	
					<h:inputText value="#{transportationController.module.addressDest}"
						required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
						id="addressDest" maxlength="150" style="width:455px;"
						rendered="#{transportationController.module.destinationPoint.id ne 3929}" />
					<p:message for="addressDest"
						rendered="#{transportationController.module.destinationPoint.id ne 3929}" />
				</h:panelGroup>

				<h:panelGroup id="addressId">
					<h:panelGroup rendered="#{transportationController.module.destinationPoint.id eq 3929}"> 
		                <h:outputText value="#{msgs.senderAddress}"/>
		                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
	                </h:panelGroup>	
					<p:autoComplete id="addressDestination" dropdown="true" var="type"
						rendered="#{transportationController.module.destinationPoint.id eq 3929}"
						itemValue="#{type}" itemLabel="#{type.name}" size="55"
						value="#{transportationController.module.addressDestination}"
						converter="addressRegisterConverter" scrollHeight="300"
						completeMethod="#{transportationController.getAddressList}"
						required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
					</p:autoComplete>
					<h:message for="addressDestination" display="icon"
						style="color:red;"
						rendered="#{transportationController.module.destinationPoint.id eq 3929}" />
				</h:panelGroup>

				<h:panelGroup>
	                <h:outputText value="#{msgs.entryPoint}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>
				<p:selectCheckboxMenu
					value="#{transportationController.entryPoints}" id="entryPoint"
					multiple="true" converter="entryPointConverter" filter="true"
					filterMatchMode="contains" required="true"
					requiredMessage="#{msgs.thisFieldIsRequired}">
					<f:selectItems value="#{transportationController.entryPointList}"
						var="entity" itemLabel="#{entity.name}" itemValue="#{entity}" />
				</p:selectCheckboxMenu>
				<h:message for="entryPoint" display="icon" style="color:red;" />

				<h:panelGroup>
	                <h:outputText value="#{msgs.transporter}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>	
				<h:inputText value="#{transportationController.module.transporter}"
					id="transporter" maxlength="150" style="width:455px;"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}" />
				<p:message for="transporter" />

				<h:panelGroup>
	                <h:outputText value="#{msgs.transportType}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>
				<p:selectOneMenu id="transportType"
					value="#{transportationController.module.transportType}"
					effect="fold" editable="true" style="width:180px"
					converter="transportTypeConverter" required="true"
					requiredMessage="#{msgs.thisFieldIsRequired}">
					<f:selectItem itemLabel="#{msgs.selectValue}" />
					<f:selectItems
						value="#{transportationController.transportTypeList}" var="cs"
						itemLabel="#{cs.name}" itemValue="#{cs}" />
					<p:ajax event="itemSelect" process="@this"
						update="transportationMethod" />
				</p:selectOneMenu>
				<h:message for="transportType" display="icon" style="color:red;" />

				<h:outputLabel for="transportationMethod" value="#{msgs.transportationMethod}" />
				<h:inputText id="transportationMethod"
					value="#{transportationController.module.transportType.transportationMethod.name}"
					disabled="true" />
				<h:message for="transportationMethod" display="icon" style="color:red;" />

				<h:panelGroup>
	                <h:outputText value="#{msgs.tripNumber}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>	
				<h:inputText value="#{transportationController.module.tripNumber}"
					id="tripNumber" maxlength="150" style="width:455px;"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}" />
				<p:message for="tripNumber" />

				<h:outputText value="#{msgs.sealNumber}"
					styleClass="form-table-label disp-blc" />
				<h:inputText value="#{transportationController.module.sealNumber}"
					id="sealNumber" maxlength="150" style="width:455px;" />
				<p:message for="sealNumber" />

				<h:panelGroup>
	                <h:outputText value="#{msgs.countryExport}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>
				<p:autoComplete id="countryExport" dropdown="true" var="type"
					itemValue="#{type}" itemLabel="#{type.name}" size="55"
					value="#{transportationController.module.countryExport}"
					converter="countryExportConverter" scrollHeight="300"
					completeMethod="#{transportationController.getCountryList}"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
				</p:autoComplete>
				<h:message for="countryExport" display="icon" style="color:red;" />

				<h:panelGroup>
	                <h:outputText value="#{msgs.countryImport}"/>
	                <i class="fa fa-asterisk reqField" aria-hidden="true"></i>
                </h:panelGroup>
				<p:autoComplete id="countryImport" dropdown="true" var="type"
					itemValue="#{type}" itemLabel="#{type.name}" size="55"
					value="#{transportationController.module.countryImport}"
					converter="countryImportConverter" scrollHeight="300"
					completeMethod="#{transportationController.getCountryList}"
					required="true" requiredMessage="#{msgs.thisFieldIsRequired}">
				</p:autoComplete>
				<h:message for="countryImport" display="icon" style="color:red;" />

	            <h:outputText value="#{msgs.countryTransit}"/>
				<p:autoComplete id="countryTransit" dropdown="true" var="type"
					itemValue="#{type}" itemLabel="#{type.name}" size="55"
					value="#{transportationController.module.countryTransit}"
					converter="countryTransitConverter" scrollHeight="300"
					completeMethod="#{transportationController.getCountryList}">
				</p:autoComplete>
				<h:message for="countryTransit" display="icon" style="color:red;" />

			</h:panelGrid>

			<div class="m-top">
				<p:commandButton value="#{msgs.save}"
					action="#{transportationController.save()}"
					styleClass="button light-blue" ajax="false" />
				<p:commandButton value="#{msgs.cancel}"
					action="#{transportationController.cancel()}" immediate="true"
					styleClass="button red m-left" />
			</div>

		</h:form>

		<div class="clear"></div>
		</div>
	</ui:define>
</ui:composition>