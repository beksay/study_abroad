<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/layouts/private.xhtml">
    <ui:define name="content">
        <h2>#{msgs.certificateForm}</h2> 
		<br/><br/>	        
		<h:form id="add-card-form" prependId="false">
		    <h:panelGrid styleClass="form-table" columns="3">
		    
		        <h:outputLabel for="status" value="#{msgs.status}" rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' or certificateController.certificate.inspection.applications.type eq 'INTERNAL'}"/>
				<p:selectOneMenu id="status" value="#{certificateController.certificate.status}" effect="fold"
					style="width:180px" converter="enumConverter" required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
					rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' or certificateController.certificate.inspection.applications.type eq 'INTERNAL'}">
					<f:selectItem itemLabel="#{msgs.selectValue}" />
					<f:selectItems value="#{certificateController.allCertificateStatus}" var="cs"
						itemLabel="#{enums[cs]}" itemValue="#{cs}" />
					<p:ajax event="itemSelect" process="@this" update="@form" />	
				</p:selectOneMenu>
				<h:message for="status" display="icon" style="color:red;" rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' or certificateController.certificate.inspection.applications.type eq 'INTERNAL'}"/>

				<h:outputText value="#{msgs.blankNumber}" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:inputText value="#{certificateController.certificate.blankNumber}" id="blankNumber" maxlength="150" style="width:300px;" 
				  required="true" requiredMessage="#{msgs.thisFieldIsRequired}" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<p:message for="blankNumber" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/> 
				
				<h:outputText value="#{msgs.docNumber}" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:inputText value="#{certificateController.certificate.docNumber}" id="docNumber" maxlength="150" style="width:300px;" 
				  disabled="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' }" 
				  required="true" requiredMessage="#{msgs.thisFieldIsRequired}" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<p:message for="docNumber" rendered="#{certificateController.certificate.status eq 'GIVE' or certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/> 
				
				<h:outputText value="#{msgs.docBy}" styleClass="form-table-label disp-blc" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:inputText value="#{certificateController.certificate.documentBy}" id="docBy" maxlength="150" style="width:300px;" required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
				  rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<p:message for="docBy" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/> 
				
				<h:outputText value="#{msgs.additionalDeclaration}" styleClass="form-table-label disp-blc" rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' and certificateController.certificate.status eq 'GIVE' }"/>
				<h:inputTextarea cols="80" rows="20" value="#{certificateController.certificate.additionalDeclaration}" id="additionalDeclaration"  
				  required="true" requiredMessage="#{msgs.thisFieldIsRequired}"  rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' and certificateController.certificate.status eq 'GIVE'}"/>
				<p:message for="additionalDeclaration"  rendered="#{certificateController.certificate.inspection.applications.type eq 'EXPORT' and certificateController.certificate.status eq 'GIVE'}"/> 
				
				<h:outputLabel for="controlMeasures" value="#{msgs.eventName}" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:selectOneMenu id="controlMeasures" value="#{certificateController.certificate.controlMeasures}" effect="fold"
					editable="true" style="width:180px" converter="cachedConverter" required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
					rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}">
					<f:selectItem itemLabel="#{msgs.selectValue}" />
					<f:selectItems value="#{certificateController.controlMeasuresList}" var="cs"
						itemLabel="#{cs.name}" itemValue="#{cs}" />
				</h:selectOneMenu>
				<h:message for="controlMeasures" display="icon" style="color:red;" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				
				<h:outputLabel for="violationOfLaw" value="#{msgs.violations}" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:selectOneMenu id="violationOfLaw" value="#{certificateController.certificate.violationOfLaw}" effect="fold"
					editable="true" style="width:180px" converter="cachedConverter" required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
					rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}">
					<f:selectItem itemLabel="#{msgs.selectValue}" />
					<f:selectItems value="#{certificateController.violationOfLawList}" var="cs"
						itemLabel="#{cs.violationName}" itemValue="#{cs}" />
				</h:selectOneMenu>
				<h:message for="violationOfLaw" display="icon" style="color:red;" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				
				<h:outputLabel for="actActivities" value="#{msgs.actActivities}" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				<h:selectOneMenu id="actActivities" value="#{certificateController.certificate.actActivities}" effect="fold"
					editable="true" style="width:180px" converter="cachedConverter" required="true" requiredMessage="#{msgs.thisFieldIsRequired}"
					rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}">
					<f:selectItem itemLabel="#{msgs.selectValue}" />
					<f:selectItems value="#{certificateController.actActivitiesList}" var="cs"
						itemLabel="#{cs.name}" itemValue="#{cs}" />
				</h:selectOneMenu>
				<h:message for="actActivities" display="icon" style="color:red;" rendered="#{certificateController.certificate.inspection.applications.type eq 'IMPORT' or certificateController.certificate.inspection.applications.type eq 'TRANSIT'}"/>
				
				<h:outputLabel value="#{msgs.validity}"  rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE'}"/>
                <p:calendar value="#{certificateController.certificate.validity}" id="validity"  showOn="button" pattern="dd-MM-yyyy" 
                    required="true" requiredMessage="#{msgs.thisFieldIsRequired}" rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE' }"/> 
                <p:message for="validity" rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE'}"/>	
                
                <h:outputText value="#{msgs.givenBased}" styleClass="form-table-label disp-blc" rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE'}"/>
				<h:inputTextarea cols="80" rows="20" value="#{certificateController.certificate.givenBased}" id="givenBased"  
				  required="true" requiredMessage="#{msgs.thisFieldIsRequired}" rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE'}"/>
				<p:message for="givenBased" rendered="#{certificateController.certificate.inspection.applications.type eq 'INTERNAL' and certificateController.certificate.status eq 'GIVE' }"/>  
				
				<h:outputText value="#{msgs.notes}" styleClass="form-table-label disp-blc" rendered="#{certificateController.certificate.status eq 'NOT_GIVE'}"/>
				<h:inputTextarea cols="80" rows="20" value="#{certificateController.certificate.notes}" id="notes"  
				  required="true" requiredMessage="#{msgs.thisFieldIsRequired}" rendered="#{certificateController.certificate.status eq 'NOT_GIVE'}"/>
				<p:message for="notes" rendered="#{certificateController.certificate.status eq 'NOT_GIVE'}"/>  
		    </h:panelGrid>	 
		    
		    <div class="m-top">  
		    	<p:commandButton value="#{msgs.save}" action="#{certificateController.save()}" styleClass="button light-blue" ajax="false"/>
		    	<p:commandButton value="#{msgs.cancel}" action="#{certificateController.cancel()}" immediate="true" styleClass="button red m-left"/>
		   	</div>
		</h:form>
			
		<div class="clear"></div>	
    </ui:define>
</ui:composition>